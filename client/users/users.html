<template name="users">
  <div class="row">
    <div class="col-md-3">{{>userDetails selectedUser}}</div>
    <div class="col-md-9">{{>userTable users}}</div>
  </div>
</template>

<template name="userTable">
  <div class="panel panel-default">
    <div class="panel-heading">
      <div class="row h4">
        <div class="col-xs-4">Username</div>
        <div class="col-xs-5">Roles</div>
        <div class="col-xs-3 text-right">Options</div>
      </div>
    </div>
    <div class="list-group">
      {{#each this}}
        {{>userRow}}
      {{/each}}
    </div>
    <div class="panel-footer clearfix">
      Number of users: {{this.count}}
    </div>
  </div>
</template>

<template name="userRow">
  <button type="button" class="list-group-item {{active}} {{ifCurrentUser "list-group-item-info"}}">
    <div class="row">
      <div class="col-xs-4">
        {{username}}
      </div>
      <div class="col-xs-6">
        {{#each roles}}
          <button type="button" class="btn btn-sm user-role {{roleActive}}">{{name}}</button>
        {{/each}}
      </div>
      <div class="col-xs-2">
        <button class="btn btn-sm btn-danger pull-right user-remove" title="Delete" {{ifCurrentUser "disabled"}}>
          <span class="glyphicon glyphicon-trash"></span>
          <span class="hidden-xs">&nbsp;Delete</span>
        </button>
      </div>
    </div>
  </button>
</template>

<template name="userDetails">
  <div class="panel panel-default">
    <div class="panel-heading">
      <h4>Details</h4>
    </div>
    <div class="panel-body">
      {{#if this}}
        <dl>
          <dt>Username</dt>
          <dd>{{username}}</dd>
        </dl>
      {{else}}
        <p>No user selected.</p>
      {{/if}}
    </div>
    <div class="panel-footer">
      Details about the selected user.
    </div>
  </div>
</template>
