<template name="layoutDesigner">
  <svg class="layout-render" {{viewBox}}>
    <defs>
      <pattern id="smallGridPattern{{_id}}" width="1" height="1" patternUnits="userSpaceOnUse">
        <path d="M 1 0 L 0 0 0 1" class="grid-pattern-small"/>
      </pattern>
      <pattern id="gridPattern{{_id}}" width="{{gridInterval}}" height="{{gridInterval}}" patternUnits="userSpaceOnUse">
        <rect width="{{gridInterval}}" height="{{gridInterval}}" fill="url(#smallGridPattern{{_id}})"/>
        <path d="M {{gridInterval}} 0 L 0 0 0 {{gridInterval}}" class="grid-pattern"/>
      </pattern>
    </defs>
    {{#if gridEnabled}}
      <rect {{gridPosition}} width="100%" height="100%" fill="url(#gridPattern{{_id}})"/>
    {{/if}}
    <g class="layout-object-hover">
      {{#each objects}}
        {{>layoutObject}}
      {{/each}}
    </g>
    {{#if placementActive}}
      {{#with placementObject}}
        <g class="layout-object-tmp {{collision}}">
          {{>layoutObject}}
        </g>
      {{/with}}
    {{/if}}
  </svg>
</template>

<template name="layoutToolbar">
  <div class="well well-sm">
    <div class="btn-toolbar layout-toolbar" role="toolbar">
      <div class="btn-group" role="group">
        <button type="button" class="btn btn-default toolbar-new" title="New layout">
          <span class="glyphicon glyphicon-plus"></span>
          <span class="hidden-xs">New layout</span>
        </button>
      </div>
      <div class="btn-group" role="group">
        <button type="button" class="btn btn-default toolbar-zoom-in" title="Zoom in">
          <span class="glyphicon glyphicon-zoom-in"></span>
          <span class="hidden-xs">Zoom in</span>
        </button>
        <button type="button" class="btn btn-default toolbar-zoom-out" title="Zoom out">
          <span class="glyphicon glyphicon-zoom-out"></span>
          <span class="hidden-xs">Zoom out</span>
        </button>
      </div>
      <div class="btn-group" role="group">
        <button type="button" class="btn btn-default toolbar-rotate-cw" title="Rotate clockwise">
          <span class="glyphicon glyphicon-repeat"></span>
          <span class="hidden-xs">Rotate cw</span>
        </button>
        <button type="button" class="btn btn-default toolbar-rotate-ccw" title="Rotate counterclockwise">
          <span class="glyphicon glyphicon-repeat flipped"></span>
          <span class="hidden-xs">Rotate ccw</span>
        </button>
      </div>
      <div class="btn-group" role="group">
        <button type="button" class="btn btn-default toolbar-flip-vertical" title="Flip vertical">
          <span class="glyphicon glyphicon-resize-vertical"></span>
          <span class="hidden-xs">Flip vertical</span>
        </button>
        <button type="button" class="btn btn-default toolbar-flip-horizontal" title="Flip horizontal">
          <span class="glyphicon glyphicon-resize-horizontal"></span>
          <span class="hidden-xs">Flip horizontal</span>
        </button>
      </div>
    </div>
  </div>
</template>
