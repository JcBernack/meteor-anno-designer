<template name="buildingLayout">
  <svg class="layout">
    <defs>
      <pattern id="smallGridPattern{{id}}" width="1" height="1" patternUnits="userSpaceOnUse">
        <path d="M 1 0 L 0 0 0 1" class="smallGridPattern"/>
      </pattern>
      <pattern id="gridPattern{{id}}" width="{{gridFactor}}" height="{{gridFactor}}" patternUnits="userSpaceOnUse">
        <rect width="{{gridFactor}}" height="{{gridFactor}}" fill="url(#smallGridPattern{{id}})"/>
        <path d="M {{gridFactor}} 0 L 0 0 0 {{gridFactor}}" class="gridPattern"/>
      </pattern>
    </defs>
    <g class="layoutScale" style="transform: scale({{gridSize}});" transform="scale({{gridSize}})">
      {{#unless gridDisabled}}
        <rect width="100%" height="100%" style="fill: url(#gridPattern{{id}});"/>
      {{/unless}}
      <g class="layoutObjects">
        {{#each layout.objects}}
          <rect x="{{x}}" y="{{y}}" width="{{width}}" height="{{height}}" fill="{{color}}" class="building {{hover}}"/>
        {{/each}}
      </g>
      {{>UI.contentBlock}}
    </g>
  </svg>
</template>
